<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>注册</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
</head>

<body>
    <div id="app">
        <header>
            <i onclick="history.go(-1)"></i>
            <span>注册</span>
        </header>
        <div class="mt2p5"></div>
        <div class="login-wrapper">
            <div class="login-box">
                <div class="login-val"><input type="text" placeholder="手机号码"></div>
            </div>
            <div class="login-box">
                <div class="login-val login-val2">
                    <input type="text" placeholder="请输入验证码">
                    <div class="login-code" v-if=“state " @click="getCode ">获取验证码</div>
                <div class="login-code " v-else>{{second}}}S</div>
            </div>
        </div>
        <div class="login-box ">
            <div class="login-val "><input type="password " placeholder="设置密码 "></div>
        </div>
        <div class="login-box ">
            <div class="login-val "><input type="password " placeholder="重复密码 "></div>
        </div>
        <div class="login-btn ">注册</div>
        <div class="comment-tip " style="margin-top: 2rem; ">
            <div class="comment-tipVal ">快捷登录</div>
        </div>
        <div class="regist-wechat "></div>
    </div>
</div>
<script type="text/javascript " src="../script/rem.js "></script>
<script type="text/javascript " src="../script/aui-dialog.js "></script>
<script type="text/javascript " src="../script/aui-toast.js "></script>
<script type="text/javascript " src="../script/vue.min.js "></script>
<script type="text/javascript " src="../script/axios.min.js "></script>
<script type="text/javascript " src="../script/script.js "></script>
<script>
    var toast = new auiToast()
    var dialog = new auiDialog()
    new Vue({
        el:'#app',
        data(){
            return {
                state: true
            }
        },
        methods:{
            getCode() {
                axios.get(apiHost + '/api/account/code/', data).then(res => {
                        if (res.data.code === 200) {
                            localStorage.setItem('token', res.data.data.auth_token)
                            toast.success({
                                title: "登录成功 ",
                                duration: 1500
                            })
                            setTimeout(function() {
                                location.href = './index.html'
                            }, 1500)
                        }
                    }).catch(function(error) {
                        alert(error)
                    })
            }
        }
    })
</script>
</body>
</html>